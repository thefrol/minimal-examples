# –†–µ–¥–∞–∫—Ç–æ—Ä —Ñ–∞–π–ª–æ–≤ –≤ –±–∞–π–∫–µ—Ç–µ –Ω–∞ `Go`

`Petite Vue` + `chi` + `minimal` + `Object storage`
----

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ `mininal`. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –±–∞–∫–µ—Ç
2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é
3. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å —Ä–æ–ª—è–º–∏ `storage.editor`

### –ù–∞—Å—Ç—Ä–æ–∏–º –≤—Å–µ —ç—Ç–æ. 8 –º–∏–Ω—É—Ç

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –≤ –≤–∞—à—É —Ñ—É–Ω–∫—Ü–∏—é(–Ω–∞–ø—Ä–∏–º–µ—Ä, [–∞—Ä—Ö–∏–≤–æ–º](https://minhaskamal.github.io/DownGit/#/home)) (–î–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è [powershell —Å–∫—Ä–∏–ø—Ç–æ–º](https://github.com/thefrol/powershell-yandexcloud-function-uploader))
1. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å —Ä–æ–ª—å—é `storage.editor`
  - —Å–æ–∑–¥–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—á–Ω—ã–π –∫–ª—é—á
  - –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –≤–≤–µ–¥–∏—Ç–µ `MNML_KEY` –∏ `MNML` - –∫–ª—é—á –∏ —Å–µ–∫—Ä–µ—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤ –æ–∫–Ω–µ
  ![–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](./assets/func-env.png "–∫—É–¥–∞ –≤–≤–µ—Å—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è") 
1. –ü–æ—Å—Ç–∞–≤—å—Ç–µ —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ - `main.Router`
    ![—Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞](./assets/code.png "–í–æ—Ç —Å—é–¥–∞")
2. –ü–æ—Å—Ç–∞–≤—å—Ç–µ –≥–∞–ª–æ—á–∫—É `–ø—É–±–ª–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è`
    ![–≥–∞–ª–æ—á–∫–∞](./assets/public.png "–í–æ—Ç —Å—é–¥–∞")
3. –ü–æ—Ç–æ–º –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `https://functions.yandexcloud.net/d4e3...`(–Ω–∞–ø–∏—Å–∞–Ω —Ç–∞–º –≥–¥–µ –≥–∞–ª–æ—á–∫—É —Å—Ç–∞–≤–∏–ª–∏). –¢—É—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ—Ç —Ç–∞–∫:
      ![–≤—ã–≤–æ–¥ —Ñ—É–Ω–∫—Ü–∏–∏](./assets/iter1.png)
1. –ó–∞–ø–æ–º–Ω–∏—Ç—å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏, —Å–∫–æ–ø–∏—Ä—É–π –∏–ª–∏ –≤–æ–∑—å–º–∏ –∏–∑ –∞–¥—Ä–µ—Å–∞ `https://functions.yandexcloud.net/<–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä>`, –∏–ª–∏ –≤ —Å–ø–∏—Å–∫–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
    ![–∑–∞–ø–æ–º–Ω–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é](./assets/func-id.png "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∏–¥–µ—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä")
1. –ü–µ—Ä–µ–π–¥–µ–º –≤ —Å–µ—Ä–≤–∏—Å `Api Gateway` –≤ —è–Ω–¥–µ–∫—Å –æ–±–ª–∞–∫–µ –∏ —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤—ã–π –≥–µ–π—Ç
    ![—Å–æ–∑–¥–∞—Ç—å —à–ª—é–∑](./assets/gateway-create.png "–ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞")
2. –ó–∞–ø–∏—à–µ–º —Ç–∞–∫—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ –æ–∫–Ω–µ —Å–æ–∑–¥–∞–Ω–∏—è —à–ª—é–∑–∞, –∏ –ø–æ–º–µ–Ω—è–µ–º —Å—Ç—Ä–æ—á–∫—É `function_id` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –≤ –ø–µ—Ä–≤–æ–º –ø—É–Ω—Ç–∫–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä

    ```openapi
    openapi: 3.0.0
    info:
      title: Sample API
      version: 1.0.0
    paths:
      /{url+}:
        x-yc-apigateway-any-method:
          parameters:
          - explode: false
            in: path
            name: url
            required: false
            style: simple
          x-yc-apigateway-integration:
            function_id: —Ç–≤–æ–π_–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä
            tag: $latest
            type: cloud_functions
    ```

    ![–∑–∞–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é](./assets/gateway-config.png "–ö—É–¥–∞ –ø–∏—Å–∞—Ç—å")
4. –¢–µ–ø–µ—Ä—å —Ç–≤–æ—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–∞–∫–æ–º—É –∞–¥—Ä–µ—Å—É `https://d5dphasdln.apigw.yandexcloud.net`, –µ–≥–æ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ø–æ–ª–µ —Å–ª—É–∂–µ–±–Ω—ã–π –¥–æ–º–µ–Ω –Ω–∞ –æ—Ç–∫—Ä—ã–≤—à–µ–π—Å—è —Å—Ç—Ä–∞–Ω–∏—Ü–µ
    ![–ê–¥—Ä–µ—Å —à–ª—é–∑–∞](./assets/gateway-url.png)

## –ì–æ—Ç–æ–≤–æ! üôå

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª—ã –∏–∑ –±–∞–∫–µ—Ç–∞, –∏ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö. 

+ `/view/–≤–∞—à —Ñ–∞–π–ª` —Ç—É—Ç –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ñ–∞–π–ª
+ `/edit/—Ñ–∞–π–ª` –∞ —Ç—É—Ç –æ—Ç—Ä–µ–¥–∞—Ç–∏—Ä–æ–≤–∞—Ç—å, –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Ñ–∞–π–ª, –µ—Å–ª–∏ –≤–≤–µ—Å—Ç–∏ –∞–¥—Ä–µ—Å –µ—â—ë –Ω–µ —Å—É—â–µ—Å—Ç–≤—é—â–µ–≥–æ —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, `https://118ajlsdasd.apigw.yandexcloud.net/edit/new_file.txt`, –ø–∞–ø–∫–∏ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–≤–∏–≤–∞—é—Ç—Å—è

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```mermaid
flowchart TD
  A[Api Gateway] --> B{Functions}
  C[( Bucket )] -->   |/view/|B
  B --> |/save/|C[( Bucket )]
  B <--> |/edit/|C[( Bucket )]
```

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–§–æ—Ä–∫–Ω–∏—Ç–µ –Ω–∞ –≥–∏—Ç—Ö–∞–±–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–µ–±–µ –ª–æ–∫–∞–ª—å–Ω–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ–¥–æ–º. 

![–§–æ—Ä–∫–Ω–∏—Ç–µ](https://docs.github.com/assets/cb-79331/mw-1440/images/help/repository/fork_button.webp)

–ï—â—ë –≤–æ—Ç –µ—Å—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π [–≥–∞–π–¥ –ø–æ git](https://habr.com/ru/articles/541258/) –∏–ª–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã–π [–∫—É—Ä—Å –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ü—Ä–∞–∫—Ç–∏–∫—É–º–µ](https://practicum.yandex.ru/git-basics/)

### –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω–æ

1. –∑–∞–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É
2. —Å–∫–∞—á–∞–π—Ç–µ –≤ –Ω–µ–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
    ```bash
    git clone https://github.com/<–≤–∞—à–µ_–∏–º—è>/<–≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π> .
    ```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫. 

```
go run .
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∂–¥–∞—Ç—å –Ω–∞ `http://localhost:8080`

### –ü–ª–∞–Ω—ã

–°–¥–µ–ª–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –≤—Å–µ—Ö —à—Ç—É–∫ –≤ –±–∞–∫–µ—Ç–µ
–∏ –æ–±—â–∏–π –≥–∞–π–¥ –ø–æ —Ñ—É–Ω–∫—Ü–∏–∏ + –∞–ø–∏–≥–≤ –≤—ã–¥–µ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
–ü–µ—Ä–µ–¥–µ–ª–∞—Ç—å —ç—Ç–æ—Ç –ø—Ä–∏–º–µ—Ä –≤ –±–ª–æ–≥

# –ê–≤—Ç–æ—Ä

–ó–∞ –æ—Å–Ω–æ–≤—É –≤–∑—è—Ç [—à–∞–±–ª–æ–Ω –ø–æ–ø—Ä–æ—â–µ](https://github.com/thefrol/go-chi-yandex-cloud-template)

–î–º–∏—Ç—Ä–∏–π –§—Ä–æ–ª–µ–Ω–∫–æ 2023
